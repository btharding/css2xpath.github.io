<!DOCTYPE html>
<html>
    <head>
        <title>CSS to XPath Converter</title>
        <script src="https://raw.githubusercontent.com/css2xpath/css2xpath/master/index.js"></script>
    </head>

    <body>
        <input type="text" />
        <pre id="result"></pre>

        <script>
            var input = document.querySelector('input'),
                result = document.getElementById('result'),
                timeout;

            input.addEventListener('keyup', function() {
                clearTimeout(timeout);
                timeout = setTimeout(function() {
                    var xpath = css2xpath(input.value);

                    result.innerHTML = (value);
                }, 200);
            });

            function format(str) {
                var depth = 0;

                str.replace(/[\[\(\)\]]/g, function(m) {
                    if (m === '[' || m === ']') {
                        return '\n' + repeat('\t', (depth++)) + m;
                    } else {
                        return '\n' + repeat('\t', (--depth)) + m;
                    }
                })
            }

            function repeat(str, num) {
                var result = '';

                for (num |= 0; num > 0; num >>>= 1, str += str) {
                    if (num & 1) {
                        result += str;
                    }
                }

                return result;
            }
        </script>
    </body>
</html>
